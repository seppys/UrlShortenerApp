<div class="container h-100vh w-70 pt-5">

    <h2 class="text-center">Short a new URL</h2>

    <div class="my-5">
        <form [formGroup]="urlForm" class="form">
            <div class="d-flex column justify-content-center">
                <div class="w-50 d-flex row align-content-between ml-3 mt-3">
                    <mat-form-field>
                        <mat-label>Url</mat-label>
                        <input matInput formControlName="originalUrl">
                        @if (urlForm.get("originalUrl")?.hasError("required") ) {
                        <mat-error>Url is required</mat-error>
                        } @else if (urlForm.get("originalUrl")?.hasError) {
                        <mat-error>Invalid Url format</mat-error>
                        }
                    </mat-form-field>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button id="save-button" mat-fab extended class="m-3" [disabled]="isSubmitButtonDisable()"
                    (click)="onSubmit()">
                    <mat-icon>content_cut</mat-icon>
                    Shorten
                </button>
            </div>
        </form>

        @if (this.createdUrl) {
            <div class="d-flex justify-content-center mt-2">
                <div class="align-content-center mx-1 px-2 background-purple">
                    <a href="{{this.createdUrl.shortUrl}}" target="_blank" class="text-decoration-none text-white">
                        {{this.createdUrl.shortUrl}}
                    </a>
                </div>
                <div class="mx-1">
                    <button mat-icon-button matTooltip="Copy url to clipboard" (click)="copyToClipboard()">
                        <mat-icon>content_copy</mat-icon>
                    </button>
                </div>
            </div>
            }
    </div>

</div>